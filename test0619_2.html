<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <form>
        <table>
            <tr>
                <td>
                    <fieldset>
                        <legend align="center">身份證產生器</legend>
                        <table bgcolor="#f0f3f3">
                            <tr align="center">
                                <td><input type="text" name="number" maxlength="10">
                            <tr align="center">
                                <td><input type="radio" name="sex" value="1" checked>男性
                                    <input type="radio" name="sex" value="2">女性
                                    <select name="address">
                                        <option value="A">台北市
                                        <option value="B">台中市
                                        <option value="C">基隆市
                                        <option value="D">台南市
                                        <option value="E">高雄市
                                        <option value="F">台北縣
                                        <option value="G">宜蘭縣
                                        <option value="H">桃園縣
                                        <option value="I">嘉義市
                                        <option value="J">新竹縣
                                        <option value="K">苗栗縣
                                        <option value="L">台中縣
                                        <option value="M">南投縣
                                        <option value="N">彰化縣
                                        <option value="O">新竹市
                                        <option value="P">雲林縣
                                        <option value="Q">嘉義縣
                                        <option value="R">台南縣
                                        <option value="S">高雄縣
                                        <option value="T">屏東縣
                                        <option value="U">花蓮縣
                                        <option value="V">台東縣
                                        <option value="W">金門縣
                                        <option value="X">澎湖縣
                                        <option value="Y">陽明山
                                        <option value="Z">連江縣
                                    </select>
                            <tr align="center">
                                <td><input type="button" value="產生" onclick="go()">
                                    <input type="button" value="檢測" onclick="chk()">
                                    <input type="reset" value="重新">

                        </table>
                    </fieldset>
        </table>
    </form>
    </center>
</body>

</html>

<script>
    function right() {
        if (event.button == 2)
            alert("很抱歉!原始碼不公開");
    }
    
    function go() {
        var str = "";
        var N = new Array();
        N[1] = document.forms[0].address.value;
        N[0] = N[1];
        N[2] = 2;
        if (document.forms[0].sex[0].checked)
            N[2] = 1;
        while (1) {
            for (var i = 3; i <= 10; i++) {
                N[i] = Math.floor(Math.random() * 10);
            }
            switch (N[0]) {
                case "A": N[0] = 1; break;
                case "B": N[0] = 10; break;
                case "C": N[0] = 19; break;
                case "D": N[0] = 28; break;
                case "E": N[0] = 37; break;
                case "F": N[0] = 46; break;
                case "G": N[0] = 55; break;
                case "H": N[0] = 64; break;
                case "I": N[0] = 39; break;
                case "J": N[0] = 73; break;
                case "K": N[0] = 82; break;
                case "L": N[0] = 2; break;
                case "M": N[0] = 11; break;
                case "N": N[0] = 20; break;
                case "O": N[0] = 48; break;
                case "P": N[0] = 29; break;
                case "Q": N[0] = 38; break;
                case "R": N[0] = 47; break;
                case "S": N[0] = 56; break;
                case "T": N[0] = 65; break;
                case "U": N[0] = 74; break;
                case "V": N[0] = 83; break;
                case "W": N[0] = 21; break;
                case "X": N[0] = 3; break;
                case "Y": N[0] = 12; break;
                case "Z": N[0] = 30; break;
            }
            var count = N[0] + N[2] * 8 + N[3] * 7 + N[4] * 6 + N[5] * 5 + N[6] * 4 + N[7] * 3 + N[8] * 2 + parseInt(N[9]) + parseInt(N[10]);
            if (count % 10 == 0) {
                for (var j = 1; j <= 10; j++) {
                    str += String(N[j]);
                }
                break;
            }
        }
        document.forms[0].number.value = str;
    }
    function chk() {
        var m = new Array();
        var error;
        var msg = document.forms[0].number.value;
        for (i = 0; i <= 9; i++)
            m[i + 1] = msg.substr(i, 1);

        switch (m[1]) {
            case "A": m[1] = 1; break;
            case "B": m[1] = 10; break;
            case "C": m[1] = 19; break;
            case "D": m[1] = 28; break;
            case "E": m[1] = 37; break;
            case "F": m[1] = 46; break;
            case "G": m[1] = 55; break;
            case "H": m[1] = 64; break;
            case "I": m[1] = 39; break;
            case "J": m[1] = 73; break;
            case "K": m[1] = 82; break;
            case "L": m[1] = 2; break;
            case "M": m[1] = 11; break;
            case "N": m[1] = 20; break;
            case "O": m[1] = 48; break;
            case "P": m[1] = 29; break;
            case "Q": m[1] = 38; break;
            case "R": m[1] = 47; break;
            case "S": m[1] = 56; break;
            case "T": m[1] = 65; break;
            case "U": m[1] = 74; break;
            case "V": m[1] = 83; break;
            case "W": m[1] = 21; break;
            case "X": m[1] = 3; break;
            case "Y": m[1] = 12; break;
            case "Z": m[1] = 30; break;
            default: error = 0;
        }
        if (m[2] > 2 || m[2] < 1)
            error = 0;
        if (error == 0) {
            alert("身份証號碼錯誤!");
            return false;
        }
        var sum = m[1] + m[2] * 8 + m[3] * 7 + m[4] * 6 + m[5] * 5 + m[6] * 4 + m[7] * 3 + m[8] * 2 + parseInt(m[9]) + parseInt(m[10]);
        if (sum % 10 == 0)
            alert("身份証號碼OK!");
        else
            alert("身份証號碼錯誤!");
    }
</script>
</body>

</html>